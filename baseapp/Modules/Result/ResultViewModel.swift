//
//  ResultViewModel.swift
//  baseapp
//
//  Created Thanh Nguyên Trần on 13/04/2022.
//  Copyright © 2022 Avengers Mobile Team. All rights reserved.
//
//  Template generated by Avengers Mobile Team
//

import Foundation

//                        _oo0oo_
//                       o8888888o
//                       88" . "88
//                       (| -_- |)
//                       0\  =  /0
//                     ___/`---'\___
//                   .' \|     |// '.
//                  / \|||  :  |||// \
//                 / _||||| -:- |||||- \
//                |   | \\  -  /// |   |
//                | \_|  ''\---/''  |_/ |
//                \  .-\__  '-'  ___/-. /
//              ___'. .'  /--.--\  `. .'___
//           ."" '<  `.___\_<|>_/___.' >' "".
//          | | :  `- \`.;`\ _ /`;.`/ - ` : | |
//          \  \ `_.   \_ __\ /__ _/   .-` /  /
//      =====`-.____`.___ \_____/___.-`___.-'=====
//                        `=---='
// Đức phật nơi đây phù hộ code con chạy không Bug. Nam mô a di đà Phật

class ResultViewModel: BaseViewModel{
    
    var imageArray : [String] = []
    // model résult
    var resultsModel = ResultsModel()
    // result sau khi scan []
    var results: [ItemModel] = []
    // item
    var itemModel = ItemModel()
    var userImage = UIImage()
    var itemIdentifyType: HomeItemType = .plant
    
    var isLoadFromMoreResults  : Bool  = false
    func loadResultsModel() {
        guard let itemModel = results.first else { return }
        self.itemModel = itemModel
        // name
        resultsModel.itemInformation = itemModel.name
        // des
        resultsModel.itemDescription = itemModel.getDesc()
        // url
        resultsModel.url = itemModel.wiki_link
        //imagArray
        for imageUrl in itemModel.images {
            imageArray.append(imageUrl)
        }
    }
    
    func loadResultsModel(atIndex: Int){
        let itemModel = results[atIndex]
        self.itemModel = itemModel
        resultsModel.itemInformation = itemModel.name
        // des
        resultsModel.itemDescription = itemModel.getDesc()
        // url
        resultsModel.url = itemModel.wiki_link
        //imagArray
        for imageUrl in itemModel.images {
            imageArray.append(imageUrl)
        }
    }
    
    deinit {
        print("Deinit: " + String(describing: type(of: self)))
    }

}
